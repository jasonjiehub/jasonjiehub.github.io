---
layout:     post
title:      å¿«é€Ÿæ­å»ºä¸ªäººåšå®¢
subtitle:   æ‰‹æŠŠæ‰‹æ•™ä½ åœ¨åŠå°æ—¶å†…æ­å»ºè‡ªå·±çš„ä¸ªäººåšå®¢(å¦‚æœä¸è¸©å‘çš„è¯ğŸ™ˆğŸ™ŠğŸ™‰)
date:       2017-02-06
author:     BY
header-img: img/post-bg-re-vs-ng2.jpg
catalog: true
tags:
    - Blog
---

> æ­£æ‰€è°“å‰äººæ ½æ ‘ï¼Œåäººä¹˜å‡‰ã€‚
> 
> æ„Ÿè°¢[Huxpro](https://github.com/huxpro)æä¾›çš„åšå®¢æ¨¡æ¿
> 
> [æˆ‘çš„çš„åšå®¢](http://qiubaiying.top)


å¦‚æœæœ‰è¿™æ ·ä¸€ä¸ªéœ€æ±‚ï¼Œä¸ºä¸€ä¸ªå·²çŸ¥çš„APIæ·»åŠ ä¸€ä¸ªæ–°çš„åŠŸèƒ½ã€‚

ç”±äºæ˜¯å·²çŸ¥çš„APIï¼Œæˆ‘ä»¬ä¸èƒ½ä¿®æ”¹å…¶ç±»ï¼Œåªèƒ½é€šè¿‡å¤–éƒ¨åŒ…è£…ã€‚ä½†æ˜¯å¦‚æœé€šè¿‡ä¹‹å‰çš„AOPå‰ç½®æˆ–åç½®é€šçŸ¥ï¼Œåˆä¸å¤ªåˆç†ï¼Œæœ€ç®€å•çš„åŠæ³•å°±æ˜¯å®ç°æŸä¸ªæˆ‘ä»¬è‡ªå®šä¹‰çš„æ¥å£ï¼Œè¿™ä¸ªæ¥å£åŒ…å«äº†æƒ³è¦æ·»åŠ çš„æ–¹æ³•ã€‚

ä½†æ˜¯JAVAä¸æ˜¯ä¸€é—¨åŠ¨æ€çš„è¯­è¨€ï¼Œæ— æ³•å†ç¼–è¯‘ååŠ¨æ€æ·»åŠ æ–°çš„åŠŸèƒ½ï¼Œè¿™ä¸ªæ—¶å€™å°±å¯ä»¥ä½¿ç”¨ aop:declare-parents æ¥åšäº†.

å¦‚æœæ˜¯å¯ä»¥æ”¹å†™çš„ç±»ï¼Œç›´æ¥å®ç°è‡ªå®šä¹‰çš„æ¥å£å°±è¡Œäº†ï¼Œä¸‹é¢çœ‹çœ‹AOPæ˜¯å¦‚ä½•åšçš„ï¼

æœ€å¼€å§‹ä½¿ç”¨çš„ç±»å’Œæ¥å£ï¼š

package com.spring.test.declareparents;

public interface Chinese {
    public void Say();
}
public class LiLei implements Chinese{
    public void Say() {
        System.out.println("æˆ‘æ˜¯ä¸­å›½äººï¼");
    }
}
ã€€ã€€æƒ³è¦æ·»åŠ çš„æ–°åŠŸèƒ½å’Œæ¥å£

package com.spring.test.declareparents;

public interface Add {
    public void Todo();
}
public class DoSomething implements Add{
    public void Todo() {
        System.out.println("æˆ‘çˆ±ä¸­å›½ï¼");
    }
}
ã€€ã€€é€šè¿‡é…ç½®AOPï¼Œå®ç°ä¸¤ç§åŠŸèƒ½çš„è€¦åˆ

å¤åˆ¶ä»£ç 
    <bean id="lilei" class="com.spring.test.declareparents.LiLei"/>
    <bean id="doSomething" class="com.spring.test.declareparents.DoSomething"/>
    
    <aop:config proxy-target-class="true">
        <aop:aspect>
            <aop:declare-parents 
            types-matching="com.spring.test.declareparents.LiLei"
            implement-interface="com.spring.test.declareparents.Add" 
            default-impl="com.spring.test.declareparents.DoSomething"/>
        </aop:aspect>
    </aop:config>
</beans>
å¤åˆ¶ä»£ç 
ã€€ã€€å…¶ä¸­types-mathcingæ˜¯ä¹‹å‰åŸå§‹çš„ç±»ï¼Œimplement-interfaceæ˜¯æƒ³è¦æ·»åŠ çš„åŠŸèƒ½çš„æ¥å£ï¼Œdefault-implæ˜¯æ–°åŠŸèƒ½çš„é»˜è®¤çš„å®ç°ã€‚

ã€€ã€€åœ¨ä½¿ç”¨æ—¶ï¼Œç›´æ¥é€šè¿‡getBeanè·å¾—beanè½¬æ¢æˆç›¸åº”çš„æ¥å£å°±å¯ä»¥ä½¿ç”¨äº†ã€‚

        Chinese lilei = (Chinese)ctx.getBean("lilei");
        lilei.Say();
        
        Add lilei2 = (Add)ctx.getBean("lilei");
        lilei2.Todo();
 


